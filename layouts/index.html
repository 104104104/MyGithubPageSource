{{- define "hierarchy" }}
<ul>
    <li><a href="{{ .RelPermalink }}">{{ .Title }}</a>
        {{- /* カレントセクション直下のセクションは再帰処理 */}}
        {{- range .Sections }}
        {{- template "hierarchy" . }}
        {{- end }}

        {{- /* カレントセクション直下のページリスト（ホームだけ特殊処理） */}}
        <ul>
            {{- range (cond .IsHome (where $.Site.RegularPages "Section" "") .Pages) }}
            <li><a href="{{ .Site.BaseURL}}{{ .RelPermalink }}">{{ .Title }}</a>
                {{- end }}
        </ul>
            </li>
</ul>
{{- end }}


{{- define "breadcrumb" }}
{{- if .node.Parent }}
{{- template "breadcrumb" (dict "node" .node.Parent "start" .start) }}
{{- else if not .node.IsHome }}
{{- template "breadcrumb" (dict "node" .node.Site.Home "start" .start) }}
{{- end }}

{{- if eq .node .start }}
<li>{{ .node.LinkTitle }}
    {{- else }}
    <li><a href="{{ .node.Permalink }}">{{ .node.LinkTitle }}</a>
        {{- end }}
        {{- end }}

        {{ partial "header.html" . }}

        <div class="container">
            <div class="row">
                <div class="col-md-12">

                    <h2>全ページのリスト</h2>

                    {{ template "hierarchy" .Site.Home }}

                </div>
            </div>
        </div>

        {{ partial "footer.html" . }}
